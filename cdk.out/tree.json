{
  "version": "tree-0.1",
  "tree": {
    "id": "App",
    "path": "",
    "children": {
      "examples-astro-prod-stack": {
        "id": "examples-astro-prod-stack",
        "path": "examples-astro-prod-stack",
        "children": {
          "Hosting": {
            "id": "Hosting",
            "path": "examples-astro-prod-stack/Hosting",
            "children": {
              "OriginLogsBucket": {
                "id": "OriginLogsBucket",
                "path": "examples-astro-prod-stack/Hosting/OriginLogsBucket",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Hosting/OriginLogsBucket/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::S3::Bucket",
                      "aws:cdk:cloudformation:props": {
                        "accessControl": "LogDeliveryWrite",
                        "bucketEncryption": {
                          "serverSideEncryptionConfiguration": [
                            {
                              "serverSideEncryptionByDefault": {
                                "sseAlgorithm": "AES256"
                              }
                            }
                          ]
                        },
                        "bucketName": "examples-astro-prod-origin-logs",
                        "ownershipControls": {
                          "rules": [
                            {
                              "objectOwnership": "ObjectWriter"
                            }
                          ]
                        },
                        "publicAccessBlockConfiguration": {
                          "blockPublicAcls": true,
                          "blockPublicPolicy": true,
                          "ignorePublicAcls": true,
                          "restrictPublicBuckets": true
                        },
                        "tags": [
                          {
                            "key": "aws-cdk:auto-delete-objects",
                            "value": "true"
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.CfnBucket",
                      "version": "2.150.0"
                    }
                  },
                  "Policy": {
                    "id": "Policy",
                    "path": "examples-astro-prod-stack/Hosting/OriginLogsBucket/Policy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "examples-astro-prod-stack/Hosting/OriginLogsBucket/Policy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::S3::BucketPolicy",
                          "aws:cdk:cloudformation:props": {
                            "bucket": {
                              "Ref": "HostingOriginLogsBucketDCD94A38"
                            },
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "s3:*",
                                  "Condition": {
                                    "Bool": {
                                      "aws:SecureTransport": "false"
                                    }
                                  },
                                  "Effect": "Deny",
                                  "Principal": {
                                    "AWS": "*"
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "HostingOriginLogsBucketDCD94A38",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "HostingOriginLogsBucketDCD94A38",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "s3:PutBucketPolicy",
                                    "s3:GetBucket*",
                                    "s3:List*",
                                    "s3:DeleteObject*"
                                  ],
                                  "Effect": "Allow",
                                  "Principal": {
                                    "AWS": {
                                      "Fn::GetAtt": [
                                        "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                                        "Arn"
                                      ]
                                    }
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "HostingOriginLogsBucketDCD94A38",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "HostingOriginLogsBucketDCD94A38",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.CfnBucketPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketPolicy",
                      "version": "2.150.0"
                    }
                  },
                  "AutoDeleteObjectsCustomResource": {
                    "id": "AutoDeleteObjectsCustomResource",
                    "path": "examples-astro-prod-stack/Hosting/OriginLogsBucket/AutoDeleteObjectsCustomResource",
                    "children": {
                      "Default": {
                        "id": "Default",
                        "path": "examples-astro-prod-stack/Hosting/OriginLogsBucket/AutoDeleteObjectsCustomResource/Default",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.CfnResource",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CustomResource",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.Bucket",
                  "version": "2.150.0"
                }
              },
              "HostingBucket": {
                "id": "HostingBucket",
                "path": "examples-astro-prod-stack/Hosting/HostingBucket",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Hosting/HostingBucket/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::S3::Bucket",
                      "aws:cdk:cloudformation:props": {
                        "bucketEncryption": {
                          "serverSideEncryptionConfiguration": [
                            {
                              "serverSideEncryptionByDefault": {
                                "sseAlgorithm": "AES256"
                              }
                            }
                          ]
                        },
                        "bucketName": "examples-astro-prod-hosting",
                        "loggingConfiguration": {
                          "destinationBucketName": {
                            "Ref": "HostingOriginLogsBucketDCD94A38"
                          }
                        },
                        "publicAccessBlockConfiguration": {
                          "blockPublicAcls": true,
                          "blockPublicPolicy": true,
                          "ignorePublicAcls": true,
                          "restrictPublicBuckets": true
                        },
                        "tags": [
                          {
                            "key": "aws-cdk:auto-delete-objects",
                            "value": "true"
                          }
                        ],
                        "versioningConfiguration": {
                          "status": "Enabled"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.CfnBucket",
                      "version": "2.150.0"
                    }
                  },
                  "Policy": {
                    "id": "Policy",
                    "path": "examples-astro-prod-stack/Hosting/HostingBucket/Policy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "examples-astro-prod-stack/Hosting/HostingBucket/Policy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::S3::BucketPolicy",
                          "aws:cdk:cloudformation:props": {
                            "bucket": {
                              "Ref": "HostingHostingBucketA9EF4AFD"
                            },
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "s3:*",
                                  "Condition": {
                                    "Bool": {
                                      "aws:SecureTransport": "false"
                                    }
                                  },
                                  "Effect": "Deny",
                                  "Principal": {
                                    "AWS": "*"
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "HostingHostingBucketA9EF4AFD",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "HostingHostingBucketA9EF4AFD",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "s3:PutBucketPolicy",
                                    "s3:GetBucket*",
                                    "s3:List*",
                                    "s3:DeleteObject*"
                                  ],
                                  "Effect": "Allow",
                                  "Principal": {
                                    "AWS": {
                                      "Fn::GetAtt": [
                                        "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                                        "Arn"
                                      ]
                                    }
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "HostingHostingBucketA9EF4AFD",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "HostingHostingBucketA9EF4AFD",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": "s3:GetObject",
                                  "Effect": "Allow",
                                  "Principal": {
                                    "CanonicalUser": {
                                      "Fn::GetAtt": [
                                        "HostingCloudFrontDistributionOrigin1S3Origin7146519B",
                                        "S3CanonicalUserId"
                                      ]
                                    }
                                  },
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "HostingHostingBucketA9EF4AFD",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                },
                                {
                                  "Action": "s3:GetObject",
                                  "Condition": {
                                    "StringEquals": {
                                      "AWS:SourceArn": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:aws:cloudfront::",
                                            {
                                              "Ref": "AWS::AccountId"
                                            },
                                            ":distribution/",
                                            {
                                              "Ref": "HostingCloudFrontDistributionAD417CDA"
                                            }
                                          ]
                                        ]
                                      }
                                    }
                                  },
                                  "Effect": "Allow",
                                  "Principal": {
                                    "Service": "cloudfront.amazonaws.com"
                                  },
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "HostingHostingBucketA9EF4AFD",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                },
                                {
                                  "Action": "s3:PutObject",
                                  "Effect": "Allow",
                                  "Principal": {
                                    "AWS": {
                                      "Fn::GetAtt": [
                                        "PipelineRoleB27FAA37",
                                        "Arn"
                                      ]
                                    }
                                  },
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "HostingHostingBucketA9EF4AFD",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                },
                                {
                                  "Action": [
                                    "s3:GetObject",
                                    "s3:PutObject",
                                    "s3:ListBucket"
                                  ],
                                  "Effect": "Allow",
                                  "Principal": {
                                    "AWS": {
                                      "Fn::GetAtt": [
                                        "PipelineSyncActionRole95CEBE29",
                                        "Arn"
                                      ]
                                    }
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "HostingHostingBucketA9EF4AFD",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "HostingHostingBucketA9EF4AFD",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.CfnBucketPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketPolicy",
                      "version": "2.150.0"
                    }
                  },
                  "AutoDeleteObjectsCustomResource": {
                    "id": "AutoDeleteObjectsCustomResource",
                    "path": "examples-astro-prod-stack/Hosting/HostingBucket/AutoDeleteObjectsCustomResource",
                    "children": {
                      "Default": {
                        "id": "Default",
                        "path": "examples-astro-prod-stack/Hosting/HostingBucket/AutoDeleteObjectsCustomResource/Default",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.CfnResource",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CustomResource",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.Bucket",
                  "version": "2.150.0"
                }
              },
              "CloudFrontFunction": {
                "id": "CloudFrontFunction",
                "path": "examples-astro-prod-stack/Hosting/CloudFrontFunction",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Hosting/CloudFrontFunction/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::CloudFront::Function",
                      "aws:cdk:cloudformation:props": {
                        "autoPublish": true,
                        "functionCode": "// https://github.com/aws-samples/amazon-cloudfront-functions/blob/main/url-rewrite-single-page-apps/index.js\r\n\r\nfunction handler(event) {\r\n    var request = event.request;\r\n    var uri = request.uri;\r\n    \r\n    // Check whether the URI is missing a file name.\r\n    if (uri.endsWith('/')) {\r\n        request.uri += 'index.html';\r\n    } \r\n    // Check whether the URI is missing a file extension.\r\n    else if (!uri.includes('.')) {\r\n        request.uri += '/index.html';\r\n    }\r\n\r\n    return request;\r\n}",
                        "functionConfig": {
                          "comment": "CloudFront Function: stack/urlrewrite.js",
                          "runtime": "cloudfront-js-1.0"
                        },
                        "name": "us-east-1examples-astro-poudFrontFunction1D2BF8D9"
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cloudfront.CfnFunction",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudfront.Function",
                  "version": "2.150.0"
                }
              },
              "AccessLogsBucket": {
                "id": "AccessLogsBucket",
                "path": "examples-astro-prod-stack/Hosting/AccessLogsBucket",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Hosting/AccessLogsBucket/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::S3::Bucket",
                      "aws:cdk:cloudformation:props": {
                        "bucketEncryption": {
                          "serverSideEncryptionConfiguration": [
                            {
                              "serverSideEncryptionByDefault": {
                                "sseAlgorithm": "AES256"
                              }
                            }
                          ]
                        },
                        "bucketName": "examples-astro-prod-access-logs",
                        "ownershipControls": {
                          "rules": [
                            {
                              "objectOwnership": "ObjectWriter"
                            }
                          ]
                        },
                        "publicAccessBlockConfiguration": {
                          "blockPublicAcls": true,
                          "blockPublicPolicy": true,
                          "ignorePublicAcls": true,
                          "restrictPublicBuckets": true
                        },
                        "tags": [
                          {
                            "key": "aws-cdk:auto-delete-objects",
                            "value": "true"
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.CfnBucket",
                      "version": "2.150.0"
                    }
                  },
                  "Policy": {
                    "id": "Policy",
                    "path": "examples-astro-prod-stack/Hosting/AccessLogsBucket/Policy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "examples-astro-prod-stack/Hosting/AccessLogsBucket/Policy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::S3::BucketPolicy",
                          "aws:cdk:cloudformation:props": {
                            "bucket": {
                              "Ref": "HostingAccessLogsBucket0615B41A"
                            },
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "s3:*",
                                  "Condition": {
                                    "Bool": {
                                      "aws:SecureTransport": "false"
                                    }
                                  },
                                  "Effect": "Deny",
                                  "Principal": {
                                    "AWS": "*"
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "HostingAccessLogsBucket0615B41A",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "HostingAccessLogsBucket0615B41A",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "s3:PutBucketPolicy",
                                    "s3:GetBucket*",
                                    "s3:List*",
                                    "s3:DeleteObject*"
                                  ],
                                  "Effect": "Allow",
                                  "Principal": {
                                    "AWS": {
                                      "Fn::GetAtt": [
                                        "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                                        "Arn"
                                      ]
                                    }
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "HostingAccessLogsBucket0615B41A",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "HostingAccessLogsBucket0615B41A",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.CfnBucketPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketPolicy",
                      "version": "2.150.0"
                    }
                  },
                  "AutoDeleteObjectsCustomResource": {
                    "id": "AutoDeleteObjectsCustomResource",
                    "path": "examples-astro-prod-stack/Hosting/AccessLogsBucket/AutoDeleteObjectsCustomResource",
                    "children": {
                      "Default": {
                        "id": "Default",
                        "path": "examples-astro-prod-stack/Hosting/AccessLogsBucket/AutoDeleteObjectsCustomResource/Default",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.CfnResource",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CustomResource",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.Bucket",
                  "version": "2.150.0"
                }
              },
              "DefaultCachePolicy": {
                "id": "DefaultCachePolicy",
                "path": "examples-astro-prod-stack/Hosting/DefaultCachePolicy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Hosting/DefaultCachePolicy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::CloudFront::CachePolicy",
                      "aws:cdk:cloudformation:props": {
                        "cachePolicyConfig": {
                          "name": {
                            "Fn::Join": [
                              "",
                              [
                                "CachePolicy",
                                {
                                  "Ref": "AWS::StackName"
                                },
                                "-",
                                {
                                  "Ref": "AWS::Region"
                                }
                              ]
                            ]
                          },
                          "comment": {
                            "Fn::Join": [
                              "",
                              [
                                "Default policy - ",
                                {
                                  "Ref": "AWS::StackName"
                                },
                                "-",
                                {
                                  "Ref": "AWS::Region"
                                }
                              ]
                            ]
                          },
                          "minTtl": 31536000,
                          "maxTtl": 31536000,
                          "defaultTtl": 31536000,
                          "parametersInCacheKeyAndForwardedToOrigin": {
                            "cookiesConfig": {
                              "cookieBehavior": "none"
                            },
                            "headersConfig": {
                              "headerBehavior": "none"
                            },
                            "enableAcceptEncodingGzip": true,
                            "enableAcceptEncodingBrotli": true,
                            "queryStringsConfig": {
                              "queryStringBehavior": "none"
                            }
                          }
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cloudfront.CfnCachePolicy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudfront.CachePolicy",
                  "version": "2.150.0"
                }
              },
              "ImagesCachePolicy": {
                "id": "ImagesCachePolicy",
                "path": "examples-astro-prod-stack/Hosting/ImagesCachePolicy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Hosting/ImagesCachePolicy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::CloudFront::CachePolicy",
                      "aws:cdk:cloudformation:props": {
                        "cachePolicyConfig": {
                          "name": {
                            "Fn::Join": [
                              "",
                              [
                                "ImagesCachePolicy",
                                {
                                  "Ref": "AWS::StackName"
                                },
                                "-",
                                {
                                  "Ref": "AWS::Region"
                                }
                              ]
                            ]
                          },
                          "comment": {
                            "Fn::Join": [
                              "",
                              [
                                "Images cache policy - ",
                                {
                                  "Ref": "AWS::StackName"
                                },
                                "-",
                                {
                                  "Ref": "AWS::Region"
                                }
                              ]
                            ]
                          },
                          "minTtl": 31536000,
                          "maxTtl": 31536000,
                          "defaultTtl": 31536000,
                          "parametersInCacheKeyAndForwardedToOrigin": {
                            "cookiesConfig": {
                              "cookieBehavior": "none"
                            },
                            "headersConfig": {
                              "headerBehavior": "none"
                            },
                            "enableAcceptEncodingGzip": false,
                            "enableAcceptEncodingBrotli": false,
                            "queryStringsConfig": {
                              "queryStringBehavior": "none"
                            }
                          }
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cloudfront.CfnCachePolicy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudfront.CachePolicy",
                  "version": "2.150.0"
                }
              },
              "staticAssetsCachePolicy": {
                "id": "staticAssetsCachePolicy",
                "path": "examples-astro-prod-stack/Hosting/staticAssetsCachePolicy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Hosting/staticAssetsCachePolicy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::CloudFront::CachePolicy",
                      "aws:cdk:cloudformation:props": {
                        "cachePolicyConfig": {
                          "name": {
                            "Fn::Join": [
                              "",
                              [
                                "StaticAssetsCachePolicy",
                                {
                                  "Ref": "AWS::StackName"
                                },
                                "-",
                                {
                                  "Ref": "AWS::Region"
                                }
                              ]
                            ]
                          },
                          "comment": {
                            "Fn::Join": [
                              "",
                              [
                                "Static assets cache policy - ",
                                {
                                  "Ref": "AWS::StackName"
                                },
                                "-",
                                {
                                  "Ref": "AWS::Region"
                                }
                              ]
                            ]
                          },
                          "minTtl": 31536000,
                          "maxTtl": 31536000,
                          "defaultTtl": 31536000,
                          "parametersInCacheKeyAndForwardedToOrigin": {
                            "cookiesConfig": {
                              "cookieBehavior": "none"
                            },
                            "headersConfig": {
                              "headerBehavior": "none"
                            },
                            "enableAcceptEncodingGzip": false,
                            "enableAcceptEncodingBrotli": false,
                            "queryStringsConfig": {
                              "queryStringBehavior": "none"
                            }
                          }
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cloudfront.CfnCachePolicy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudfront.CachePolicy",
                  "version": "2.150.0"
                }
              },
              "ResponseHeadersPolicy": {
                "id": "ResponseHeadersPolicy",
                "path": "examples-astro-prod-stack/Hosting/ResponseHeadersPolicy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Hosting/ResponseHeadersPolicy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::CloudFront::ResponseHeadersPolicy",
                      "aws:cdk:cloudformation:props": {
                        "responseHeadersPolicyConfig": {
                          "name": {
                            "Fn::Join": [
                              "",
                              [
                                "ResponseHeadersPolicy",
                                {
                                  "Ref": "AWS::StackName"
                                },
                                "-",
                                {
                                  "Ref": "AWS::Region"
                                }
                              ]
                            ]
                          },
                          "comment": {
                            "Fn::Join": [
                              "",
                              [
                                "ResponseHeadersPolicy",
                                {
                                  "Ref": "AWS::StackName"
                                },
                                "-",
                                {
                                  "Ref": "AWS::Region"
                                }
                              ]
                            ]
                          },
                          "securityHeadersConfig": {
                            "contentTypeOptions": {
                              "override": true
                            },
                            "frameOptions": {
                              "frameOption": "DENY",
                              "override": true
                            },
                            "referrerPolicy": {
                              "referrerPolicy": "strict-origin-when-cross-origin",
                              "override": false
                            },
                            "strictTransportSecurity": {
                              "accessControlMaxAge": {
                                "amount": 31536000,
                                "unit": {
                                  "label": "seconds",
                                  "isoLabel": "S",
                                  "inMillis": 1000
                                }
                              },
                              "includeSubdomains": true,
                              "override": true,
                              "accessControlMaxAgeSec": 31536000
                            },
                            "xssProtection": {
                              "protection": true,
                              "modeBlock": true,
                              "override": true
                            }
                          },
                          "removeHeadersConfig": {
                            "items": [
                              {
                                "header": "age"
                              },
                              {
                                "header": "date"
                              }
                            ]
                          }
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cloudfront.CfnResponseHeadersPolicy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudfront.ResponseHeadersPolicy",
                  "version": "2.150.0"
                }
              },
              "SetHttpSecurityHeaders": {
                "id": "SetHttpSecurityHeaders",
                "path": "examples-astro-prod-stack/Hosting/SetHttpSecurityHeaders",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Hosting/SetHttpSecurityHeaders/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::CloudFront::Function",
                      "aws:cdk:cloudformation:props": {
                        "autoPublish": true,
                        "functionCode": "function handler(event) { var response = event.response; var headers = response.headers; headers['strict-transport-security'] = { value: 'max-age=63072000; includeSubdomains; preload'}; headers['content-security-policy'] = { value: \"default-src 'none'; img-src 'self'; script-src 'self'; style-src 'self'; object-src 'none'\"}; headers['x-content-type-options'] = { value: 'nosniff'}; headers['x-frame-options'] = {value: 'DENY'}; headers['x-xss-protection'] = {value: '1; mode=block'}; return response; }",
                        "functionConfig": {
                          "comment": "SetHttpSecurityHeadersc8d6e8afb898044722eaa40179f47bfca6035fba41",
                          "runtime": "cloudfront-js-1.0"
                        },
                        "name": "SetHttpSecurityHeadersc8d6e8afb898044722eaa40179f47bfca6035fba41"
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cloudfront.CfnFunction",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudfront.Function",
                  "version": "2.150.0"
                }
              },
              "CloudFrontOac": {
                "id": "CloudFrontOac",
                "path": "examples-astro-prod-stack/Hosting/CloudFrontOac",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::CloudFront::OriginAccessControl",
                  "aws:cdk:cloudformation:props": {
                    "originAccessControlConfig": {
                      "name": {
                        "Fn::Join": [
                          "",
                          [
                            "aws-cloudfront-s3-examd-cdn-",
                            {
                              "Fn::Select": [
                                2,
                                {
                                  "Fn::Split": [
                                    "/",
                                    {
                                      "Ref": "AWS::StackId"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        ]
                      },
                      "originAccessControlOriginType": "s3",
                      "signingBehavior": "always",
                      "signingProtocol": "sigv4",
                      "description": "Origin access control provisioned by aws-cloudfront-s3"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl",
                  "version": "2.150.0"
                }
              },
              "CloudFrontDistribution": {
                "id": "CloudFrontDistribution",
                "path": "examples-astro-prod-stack/Hosting/CloudFrontDistribution",
                "children": {
                  "Origin1": {
                    "id": "Origin1",
                    "path": "examples-astro-prod-stack/Hosting/CloudFrontDistribution/Origin1",
                    "children": {
                      "S3Origin": {
                        "id": "S3Origin",
                        "path": "examples-astro-prod-stack/Hosting/CloudFrontDistribution/Origin1/S3Origin",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "examples-astro-prod-stack/Hosting/CloudFrontDistribution/Origin1/S3Origin/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
                              "aws:cdk:cloudformation:props": {
                                "cloudFrontOriginAccessIdentityConfig": {
                                  "comment": "Identity for examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_cloudfront.OriginAccessIdentity",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "constructs.Construct",
                      "version": "10.3.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Hosting/CloudFrontDistribution/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::CloudFront::Distribution",
                      "aws:cdk:cloudformation:props": {
                        "distributionConfig": {
                          "enabled": true,
                          "origins": [
                            {
                              "domainName": {
                                "Fn::GetAtt": [
                                  "HostingHostingBucketA9EF4AFD",
                                  "RegionalDomainName"
                                ]
                              },
                              "id": "examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D",
                              "connectionAttempts": 2,
                              "connectionTimeout": 3,
                              "s3OriginConfig": {
                                "originAccessIdentity": {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "origin-access-identity/cloudfront/",
                                      {
                                        "Ref": "HostingCloudFrontDistributionOrigin1S3Origin7146519B"
                                      }
                                    ]
                                  ]
                                }
                              }
                            }
                          ],
                          "defaultCacheBehavior": {
                            "pathPattern": "*",
                            "targetOriginId": "examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D",
                            "allowedMethods": [
                              "GET",
                              "HEAD"
                            ],
                            "cachePolicyId": {
                              "Ref": "HostingDefaultCachePolicyAC9775E6"
                            },
                            "compress": true,
                            "responseHeadersPolicyId": {
                              "Ref": "HostingResponseHeadersPolicy97C0645C"
                            },
                            "viewerProtocolPolicy": "redirect-to-https",
                            "functionAssociations": [
                              {
                                "functionArn": {
                                  "Fn::GetAtt": [
                                    "HostingCloudFrontFunction74166731",
                                    "FunctionARN"
                                  ]
                                },
                                "eventType": "viewer-request"
                              }
                            ]
                          },
                          "cacheBehaviors": [
                            {
                              "pathPattern": "*.jpg",
                              "targetOriginId": "examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D",
                              "allowedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachePolicyId": {
                                "Ref": "HostingImagesCachePolicy7EED2E8D"
                              },
                              "compress": true,
                              "responseHeadersPolicyId": {
                                "Ref": "HostingResponseHeadersPolicy97C0645C"
                              },
                              "viewerProtocolPolicy": "redirect-to-https"
                            },
                            {
                              "pathPattern": "*.jpeg",
                              "targetOriginId": "examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D",
                              "allowedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachePolicyId": {
                                "Ref": "HostingImagesCachePolicy7EED2E8D"
                              },
                              "compress": true,
                              "responseHeadersPolicyId": {
                                "Ref": "HostingResponseHeadersPolicy97C0645C"
                              },
                              "viewerProtocolPolicy": "redirect-to-https"
                            },
                            {
                              "pathPattern": "*.png",
                              "targetOriginId": "examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D",
                              "allowedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachePolicyId": {
                                "Ref": "HostingImagesCachePolicy7EED2E8D"
                              },
                              "compress": true,
                              "responseHeadersPolicyId": {
                                "Ref": "HostingResponseHeadersPolicy97C0645C"
                              },
                              "viewerProtocolPolicy": "redirect-to-https"
                            },
                            {
                              "pathPattern": "*.gif",
                              "targetOriginId": "examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D",
                              "allowedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachePolicyId": {
                                "Ref": "HostingImagesCachePolicy7EED2E8D"
                              },
                              "compress": true,
                              "responseHeadersPolicyId": {
                                "Ref": "HostingResponseHeadersPolicy97C0645C"
                              },
                              "viewerProtocolPolicy": "redirect-to-https"
                            },
                            {
                              "pathPattern": "*.bmp",
                              "targetOriginId": "examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D",
                              "allowedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachePolicyId": {
                                "Ref": "HostingImagesCachePolicy7EED2E8D"
                              },
                              "compress": true,
                              "responseHeadersPolicyId": {
                                "Ref": "HostingResponseHeadersPolicy97C0645C"
                              },
                              "viewerProtocolPolicy": "redirect-to-https"
                            },
                            {
                              "pathPattern": "*.tiff",
                              "targetOriginId": "examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D",
                              "allowedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachePolicyId": {
                                "Ref": "HostingImagesCachePolicy7EED2E8D"
                              },
                              "compress": true,
                              "responseHeadersPolicyId": {
                                "Ref": "HostingResponseHeadersPolicy97C0645C"
                              },
                              "viewerProtocolPolicy": "redirect-to-https"
                            },
                            {
                              "pathPattern": "*.ico",
                              "targetOriginId": "examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D",
                              "allowedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachePolicyId": {
                                "Ref": "HostingImagesCachePolicy7EED2E8D"
                              },
                              "compress": true,
                              "responseHeadersPolicyId": {
                                "Ref": "HostingResponseHeadersPolicy97C0645C"
                              },
                              "viewerProtocolPolicy": "redirect-to-https"
                            },
                            {
                              "pathPattern": "*.js",
                              "targetOriginId": "examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D",
                              "allowedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachePolicyId": {
                                "Ref": "HostingstaticAssetsCachePolicy3B708A2A"
                              },
                              "compress": true,
                              "responseHeadersPolicyId": {
                                "Ref": "HostingResponseHeadersPolicy97C0645C"
                              },
                              "viewerProtocolPolicy": "redirect-to-https"
                            },
                            {
                              "pathPattern": "*.css",
                              "targetOriginId": "examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D",
                              "allowedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachePolicyId": {
                                "Ref": "HostingstaticAssetsCachePolicy3B708A2A"
                              },
                              "compress": true,
                              "responseHeadersPolicyId": {
                                "Ref": "HostingResponseHeadersPolicy97C0645C"
                              },
                              "viewerProtocolPolicy": "redirect-to-https"
                            },
                            {
                              "pathPattern": "*.html",
                              "targetOriginId": "examplesastroprodstackHostingCloudFrontDistributionOrigin167A0903D",
                              "allowedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachedMethods": [
                                "GET",
                                "HEAD",
                                "OPTIONS"
                              ],
                              "cachePolicyId": {
                                "Ref": "HostingstaticAssetsCachePolicy3B708A2A"
                              },
                              "compress": true,
                              "responseHeadersPolicyId": {
                                "Ref": "HostingResponseHeadersPolicy97C0645C"
                              },
                              "viewerProtocolPolicy": "redirect-to-https"
                            }
                          ],
                          "comment": {
                            "Fn::Join": [
                              "",
                              [
                                "Stack name: ",
                                {
                                  "Ref": "AWS::StackName"
                                }
                              ]
                            ]
                          },
                          "customErrorResponses": [
                            {
                              "errorCode": 403,
                              "responseCode": 200,
                              "responsePagePath": "/index.html"
                            }
                          ],
                          "defaultRootObject": "index.html",
                          "httpVersion": "http2and3",
                          "ipv6Enabled": true,
                          "logging": {
                            "bucket": {
                              "Fn::GetAtt": [
                                "HostingAccessLogsBucket0615B41A",
                                "RegionalDomainName"
                              ]
                            }
                          }
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cloudfront.CfnDistribution",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudfront.Distribution",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.3.0"
            }
          },
          "Custom::S3AutoDeleteObjectsCustomResourceProvider": {
            "id": "Custom::S3AutoDeleteObjectsCustomResourceProvider",
            "path": "examples-astro-prod-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider",
            "children": {
              "Staging": {
                "id": "Staging",
                "path": "examples-astro-prod-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.AssetStaging",
                  "version": "2.150.0"
                }
              },
              "Role": {
                "id": "Role",
                "path": "examples-astro-prod-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.150.0"
                }
              },
              "Handler": {
                "id": "Handler",
                "path": "examples-astro-prod-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.CustomResourceProviderBase",
              "version": "2.150.0"
            }
          },
          "Pipeline": {
            "id": "Pipeline",
            "path": "examples-astro-prod-stack/Pipeline",
            "children": {
              "BuildOutputBucket": {
                "id": "BuildOutputBucket",
                "path": "examples-astro-prod-stack/Pipeline/BuildOutputBucket",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Pipeline/BuildOutputBucket/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::S3::Bucket",
                      "aws:cdk:cloudformation:props": {
                        "bucketEncryption": {
                          "serverSideEncryptionConfiguration": [
                            {
                              "serverSideEncryptionByDefault": {
                                "sseAlgorithm": "AES256"
                              }
                            }
                          ]
                        },
                        "bucketName": "examples-astro-prod-output",
                        "ownershipControls": {
                          "rules": [
                            {
                              "objectOwnership": "ObjectWriter"
                            }
                          ]
                        },
                        "publicAccessBlockConfiguration": {
                          "blockPublicAcls": true,
                          "blockPublicPolicy": true,
                          "ignorePublicAcls": true,
                          "restrictPublicBuckets": true
                        },
                        "tags": [
                          {
                            "key": "aws-cdk:auto-delete-objects",
                            "value": "true"
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.CfnBucket",
                      "version": "2.150.0"
                    }
                  },
                  "Policy": {
                    "id": "Policy",
                    "path": "examples-astro-prod-stack/Pipeline/BuildOutputBucket/Policy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "examples-astro-prod-stack/Pipeline/BuildOutputBucket/Policy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::S3::BucketPolicy",
                          "aws:cdk:cloudformation:props": {
                            "bucket": {
                              "Ref": "PipelineBuildOutputBucketE1BA3DE0"
                            },
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "s3:*",
                                  "Condition": {
                                    "Bool": {
                                      "aws:SecureTransport": "false"
                                    }
                                  },
                                  "Effect": "Deny",
                                  "Principal": {
                                    "AWS": "*"
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "PipelineBuildOutputBucketE1BA3DE0",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "PipelineBuildOutputBucketE1BA3DE0",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "s3:PutBucketPolicy",
                                    "s3:GetBucket*",
                                    "s3:List*",
                                    "s3:DeleteObject*"
                                  ],
                                  "Effect": "Allow",
                                  "Principal": {
                                    "AWS": {
                                      "Fn::GetAtt": [
                                        "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                                        "Arn"
                                      ]
                                    }
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "PipelineBuildOutputBucketE1BA3DE0",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "PipelineBuildOutputBucketE1BA3DE0",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": "s3:PutObject",
                                  "Effect": "Allow",
                                  "Principal": {
                                    "AWS": {
                                      "Fn::GetAtt": [
                                        "PipelineCodeBuildProjectRole4FFC8613",
                                        "Arn"
                                      ]
                                    }
                                  },
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "PipelineBuildOutputBucketE1BA3DE0",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                },
                                {
                                  "Action": "s3:PutObject",
                                  "Effect": "Allow",
                                  "Principal": {
                                    "AWS": {
                                      "Fn::GetAtt": [
                                        "PipelineRoleB27FAA37",
                                        "Arn"
                                      ]
                                    }
                                  },
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "PipelineBuildOutputBucketE1BA3DE0",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                },
                                {
                                  "Action": [
                                    "s3:ListBucket",
                                    "s3:GetObject",
                                    "s3:PutObject"
                                  ],
                                  "Effect": "Allow",
                                  "Principal": {
                                    "AWS": {
                                      "Fn::GetAtt": [
                                        "PipelineSyncActionRole95CEBE29",
                                        "Arn"
                                      ]
                                    }
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "PipelineBuildOutputBucketE1BA3DE0",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "PipelineBuildOutputBucketE1BA3DE0",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.CfnBucketPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketPolicy",
                      "version": "2.150.0"
                    }
                  },
                  "AutoDeleteObjectsCustomResource": {
                    "id": "AutoDeleteObjectsCustomResource",
                    "path": "examples-astro-prod-stack/Pipeline/BuildOutputBucket/AutoDeleteObjectsCustomResource",
                    "children": {
                      "Default": {
                        "id": "Default",
                        "path": "examples-astro-prod-stack/Pipeline/BuildOutputBucket/AutoDeleteObjectsCustomResource/Default",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.CfnResource",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CustomResource",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.Bucket",
                  "version": "2.150.0"
                }
              },
              "BuildLogsBucket": {
                "id": "BuildLogsBucket",
                "path": "examples-astro-prod-stack/Pipeline/BuildLogsBucket",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Pipeline/BuildLogsBucket/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::S3::Bucket",
                      "aws:cdk:cloudformation:props": {
                        "bucketEncryption": {
                          "serverSideEncryptionConfiguration": [
                            {
                              "serverSideEncryptionByDefault": {
                                "sseAlgorithm": "AES256"
                              }
                            }
                          ]
                        },
                        "bucketName": "examples-astro-prod-build-logs",
                        "ownershipControls": {
                          "rules": [
                            {
                              "objectOwnership": "ObjectWriter"
                            }
                          ]
                        },
                        "publicAccessBlockConfiguration": {
                          "blockPublicAcls": true,
                          "blockPublicPolicy": true,
                          "ignorePublicAcls": true,
                          "restrictPublicBuckets": true
                        },
                        "tags": [
                          {
                            "key": "aws-cdk:auto-delete-objects",
                            "value": "true"
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.CfnBucket",
                      "version": "2.150.0"
                    }
                  },
                  "Policy": {
                    "id": "Policy",
                    "path": "examples-astro-prod-stack/Pipeline/BuildLogsBucket/Policy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "examples-astro-prod-stack/Pipeline/BuildLogsBucket/Policy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::S3::BucketPolicy",
                          "aws:cdk:cloudformation:props": {
                            "bucket": {
                              "Ref": "PipelineBuildLogsBucket55CE7123"
                            },
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "s3:*",
                                  "Condition": {
                                    "Bool": {
                                      "aws:SecureTransport": "false"
                                    }
                                  },
                                  "Effect": "Deny",
                                  "Principal": {
                                    "AWS": "*"
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "PipelineBuildLogsBucket55CE7123",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "PipelineBuildLogsBucket55CE7123",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "s3:PutBucketPolicy",
                                    "s3:GetBucket*",
                                    "s3:List*",
                                    "s3:DeleteObject*"
                                  ],
                                  "Effect": "Allow",
                                  "Principal": {
                                    "AWS": {
                                      "Fn::GetAtt": [
                                        "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                                        "Arn"
                                      ]
                                    }
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "PipelineBuildLogsBucket55CE7123",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "PipelineBuildLogsBucket55CE7123",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.CfnBucketPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketPolicy",
                      "version": "2.150.0"
                    }
                  },
                  "AutoDeleteObjectsCustomResource": {
                    "id": "AutoDeleteObjectsCustomResource",
                    "path": "examples-astro-prod-stack/Pipeline/BuildLogsBucket/AutoDeleteObjectsCustomResource",
                    "children": {
                      "Default": {
                        "id": "Default",
                        "path": "examples-astro-prod-stack/Pipeline/BuildLogsBucket/AutoDeleteObjectsCustomResource/Default",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.CfnResource",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CustomResource",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.Bucket",
                  "version": "2.150.0"
                }
              },
              "CodeBuildProject": {
                "id": "CodeBuildProject",
                "path": "examples-astro-prod-stack/Pipeline/CodeBuildProject",
                "children": {
                  "Role": {
                    "id": "Role",
                    "path": "examples-astro-prod-stack/Pipeline/CodeBuildProject/Role",
                    "children": {
                      "ImportRole": {
                        "id": "ImportRole",
                        "path": "examples-astro-prod-stack/Pipeline/CodeBuildProject/Role/ImportRole",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.Resource",
                          "version": "2.150.0"
                        }
                      },
                      "Resource": {
                        "id": "Resource",
                        "path": "examples-astro-prod-stack/Pipeline/CodeBuildProject/Role/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                          "aws:cdk:cloudformation:props": {
                            "assumeRolePolicyDocument": {
                              "Statement": [
                                {
                                  "Action": "sts:AssumeRole",
                                  "Effect": "Allow",
                                  "Principal": {
                                    "Service": "codebuild.amazonaws.com"
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                          "version": "2.150.0"
                        }
                      },
                      "DefaultPolicy": {
                        "id": "DefaultPolicy",
                        "path": "examples-astro-prod-stack/Pipeline/CodeBuildProject/Role/DefaultPolicy",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "examples-astro-prod-stack/Pipeline/CodeBuildProject/Role/DefaultPolicy/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                              "aws:cdk:cloudformation:props": {
                                "policyDocument": {
                                  "Statement": [
                                    {
                                      "Action": "ssm:GetParameters",
                                      "Effect": "Allow",
                                      "Resource": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":ssm:us-east-1:665186350589:parameter/thunder/examples/astro"
                                          ]
                                        ]
                                      }
                                    },
                                    {
                                      "Action": [
                                        "s3:DeleteObject*",
                                        "s3:PutObject",
                                        "s3:PutObjectLegalHold",
                                        "s3:PutObjectRetention",
                                        "s3:PutObjectTagging",
                                        "s3:PutObjectVersionTagging",
                                        "s3:Abort*"
                                      ],
                                      "Effect": "Allow",
                                      "Resource": [
                                        {
                                          "Fn::GetAtt": [
                                            "PipelineBuildLogsBucket55CE7123",
                                            "Arn"
                                          ]
                                        },
                                        {
                                          "Fn::Join": [
                                            "",
                                            [
                                              {
                                                "Fn::GetAtt": [
                                                  "PipelineBuildLogsBucket55CE7123",
                                                  "Arn"
                                                ]
                                              },
                                              "/*"
                                            ]
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "Action": [
                                        "logs:CreateLogGroup",
                                        "logs:CreateLogStream",
                                        "logs:PutLogEvents"
                                      ],
                                      "Effect": "Allow",
                                      "Resource": [
                                        {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":logs:us-east-1:665186350589:log-group:/aws/codebuild/",
                                              {
                                                "Ref": "PipelineCodeBuildProject13E6FBC9"
                                              }
                                            ]
                                          ]
                                        },
                                        {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":logs:us-east-1:665186350589:log-group:/aws/codebuild/",
                                              {
                                                "Ref": "PipelineCodeBuildProject13E6FBC9"
                                              },
                                              ":*"
                                            ]
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "Action": [
                                        "codebuild:CreateReportGroup",
                                        "codebuild:CreateReport",
                                        "codebuild:UpdateReport",
                                        "codebuild:BatchPutTestCases",
                                        "codebuild:BatchPutCodeCoverages"
                                      ],
                                      "Effect": "Allow",
                                      "Resource": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":codebuild:us-east-1:665186350589:report-group/",
                                            {
                                              "Ref": "PipelineCodeBuildProject13E6FBC9"
                                            },
                                            "-*"
                                          ]
                                        ]
                                      }
                                    },
                                    {
                                      "Action": "secretsmanager:GetSecretValue",
                                      "Effect": "Allow",
                                      "Resource": "arn:aws:secretsmanager:us-east-1:665186350589:secret:githubpat-0abFlT"
                                    },
                                    {
                                      "Action": [
                                        "s3:GetObject*",
                                        "s3:GetBucket*",
                                        "s3:List*",
                                        "s3:DeleteObject*",
                                        "s3:PutObject",
                                        "s3:PutObjectLegalHold",
                                        "s3:PutObjectRetention",
                                        "s3:PutObjectTagging",
                                        "s3:PutObjectVersionTagging",
                                        "s3:Abort*"
                                      ],
                                      "Effect": "Allow",
                                      "Resource": [
                                        {
                                          "Fn::GetAtt": [
                                            "HostingHostingBucketA9EF4AFD",
                                            "Arn"
                                          ]
                                        },
                                        {
                                          "Fn::Join": [
                                            "",
                                            [
                                              {
                                                "Fn::GetAtt": [
                                                  "HostingHostingBucketA9EF4AFD",
                                                  "Arn"
                                                ]
                                              },
                                              "/*"
                                            ]
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "Action": [
                                        "s3:GetObject*",
                                        "s3:GetBucket*",
                                        "s3:List*",
                                        "s3:DeleteObject*",
                                        "s3:PutObject",
                                        "s3:PutObjectLegalHold",
                                        "s3:PutObjectRetention",
                                        "s3:PutObjectTagging",
                                        "s3:PutObjectVersionTagging",
                                        "s3:Abort*"
                                      ],
                                      "Effect": "Allow",
                                      "Resource": [
                                        {
                                          "Fn::GetAtt": [
                                            "PipelineArtifactBucket5F943F51",
                                            "Arn"
                                          ]
                                        },
                                        {
                                          "Fn::Join": [
                                            "",
                                            [
                                              {
                                                "Fn::GetAtt": [
                                                  "PipelineArtifactBucket5F943F51",
                                                  "Arn"
                                                ]
                                              },
                                              "/*"
                                            ]
                                          ]
                                        }
                                      ]
                                    }
                                  ],
                                  "Version": "2012-10-17"
                                },
                                "policyName": "PipelineCodeBuildProjectRoleDefaultPolicy884C013C",
                                "roles": [
                                  {
                                    "Ref": "PipelineCodeBuildProjectRole4FFC8613"
                                  }
                                ]
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.Policy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Role",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Pipeline/CodeBuildProject/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::CodeBuild::Project",
                      "aws:cdk:cloudformation:props": {
                        "artifacts": {
                          "type": "NO_ARTIFACTS"
                        },
                        "cache": {
                          "type": "NO_CACHE"
                        },
                        "encryptionKey": "alias/aws/s3",
                        "environment": {
                          "type": "LINUX_CONTAINER",
                          "image": "aws/codebuild/standard:7.0",
                          "imagePullCredentialsType": "CODEBUILD",
                          "privilegedMode": true,
                          "computeType": "BUILD_GENERAL1_MEDIUM",
                          "environmentVariables": [
                            {
                              "name": "VITE_URL",
                              "type": "PARAMETER_STORE",
                              "value": "/thunder/examples/astro"
                            }
                          ]
                        },
                        "logsConfig": {
                          "s3Logs": {
                            "status": "ENABLED",
                            "location": {
                              "Ref": "PipelineBuildLogsBucket55CE7123"
                            }
                          }
                        },
                        "name": "examples-astro-prod-buildproject",
                        "serviceRole": {
                          "Fn::GetAtt": [
                            "PipelineCodeBuildProjectRole4FFC8613",
                            "Arn"
                          ]
                        },
                        "source": {
                          "type": "GITHUB",
                          "gitCloneDepth": 1,
                          "reportBuildStatus": true,
                          "location": "https://github.com/thunder-so/cdk-spa.git",
                          "buildSpec": "{\n  \"version\": 0.2,\n  \"phases\": {\n    \"install\": {\n      \"runtime-versions\": {\n        \"nodejs\": 20\n      },\n      \"commands\": [\n        \"cd examples/astro/\",\n        \"npm install\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"npx astro build\"\n      ]\n    }\n  },\n  \"artifacts\": {\n    \"files\": [\n      \"**/*\"\n    ],\n    \"base-directory\": \"examples/astro/dist/\"\n  }\n}"
                        },
                        "sourceVersion": "main",
                        "timeoutInMinutes": 10
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_codebuild.CfnProject",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_codebuild.Project",
                  "version": "2.150.0"
                }
              },
              "ArtifactBucket": {
                "id": "ArtifactBucket",
                "path": "examples-astro-prod-stack/Pipeline/ArtifactBucket",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Pipeline/ArtifactBucket/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::S3::Bucket",
                      "aws:cdk:cloudformation:props": {
                        "bucketEncryption": {
                          "serverSideEncryptionConfiguration": [
                            {
                              "serverSideEncryptionByDefault": {
                                "sseAlgorithm": "AES256"
                              }
                            }
                          ]
                        },
                        "bucketName": "examples-astro-prod-artifacts",
                        "publicAccessBlockConfiguration": {
                          "blockPublicAcls": true,
                          "blockPublicPolicy": true,
                          "ignorePublicAcls": true,
                          "restrictPublicBuckets": true
                        },
                        "tags": [
                          {
                            "key": "aws-cdk:auto-delete-objects",
                            "value": "true"
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.CfnBucket",
                      "version": "2.150.0"
                    }
                  },
                  "Policy": {
                    "id": "Policy",
                    "path": "examples-astro-prod-stack/Pipeline/ArtifactBucket/Policy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "examples-astro-prod-stack/Pipeline/ArtifactBucket/Policy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::S3::BucketPolicy",
                          "aws:cdk:cloudformation:props": {
                            "bucket": {
                              "Ref": "PipelineArtifactBucket5F943F51"
                            },
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "s3:*",
                                  "Condition": {
                                    "Bool": {
                                      "aws:SecureTransport": "false"
                                    }
                                  },
                                  "Effect": "Deny",
                                  "Principal": {
                                    "AWS": "*"
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "PipelineArtifactBucket5F943F51",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "PipelineArtifactBucket5F943F51",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "s3:PutBucketPolicy",
                                    "s3:GetBucket*",
                                    "s3:List*",
                                    "s3:DeleteObject*"
                                  ],
                                  "Effect": "Allow",
                                  "Principal": {
                                    "AWS": {
                                      "Fn::GetAtt": [
                                        "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                                        "Arn"
                                      ]
                                    }
                                  },
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "PipelineArtifactBucket5F943F51",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "PipelineArtifactBucket5F943F51",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": "s3:GetObject",
                                  "Effect": "Allow",
                                  "Principal": {
                                    "AWS": {
                                      "Fn::GetAtt": [
                                        "PipelineRoleB27FAA37",
                                        "Arn"
                                      ]
                                    }
                                  },
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "PipelineArtifactBucket5F943F51",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.CfnBucketPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketPolicy",
                      "version": "2.150.0"
                    }
                  },
                  "AutoDeleteObjectsCustomResource": {
                    "id": "AutoDeleteObjectsCustomResource",
                    "path": "examples-astro-prod-stack/Pipeline/ArtifactBucket/AutoDeleteObjectsCustomResource",
                    "children": {
                      "Default": {
                        "id": "Default",
                        "path": "examples-astro-prod-stack/Pipeline/ArtifactBucket/AutoDeleteObjectsCustomResource/Default",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.CfnResource",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CustomResource",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.Bucket",
                  "version": "2.150.0"
                }
              },
              "Pipeline": {
                "id": "Pipeline",
                "path": "examples-astro-prod-stack/Pipeline/Pipeline",
                "children": {
                  "Role": {
                    "id": "Role",
                    "path": "examples-astro-prod-stack/Pipeline/Pipeline/Role",
                    "children": {
                      "ImportRole": {
                        "id": "ImportRole",
                        "path": "examples-astro-prod-stack/Pipeline/Pipeline/Role/ImportRole",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.Resource",
                          "version": "2.150.0"
                        }
                      },
                      "Resource": {
                        "id": "Resource",
                        "path": "examples-astro-prod-stack/Pipeline/Pipeline/Role/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                          "aws:cdk:cloudformation:props": {
                            "assumeRolePolicyDocument": {
                              "Statement": [
                                {
                                  "Action": "sts:AssumeRole",
                                  "Effect": "Allow",
                                  "Principal": {
                                    "Service": "codepipeline.amazonaws.com"
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                          "version": "2.150.0"
                        }
                      },
                      "DefaultPolicy": {
                        "id": "DefaultPolicy",
                        "path": "examples-astro-prod-stack/Pipeline/Pipeline/Role/DefaultPolicy",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "examples-astro-prod-stack/Pipeline/Pipeline/Role/DefaultPolicy/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                              "aws:cdk:cloudformation:props": {
                                "policyDocument": {
                                  "Statement": [
                                    {
                                      "Action": [
                                        "s3:GetObject*",
                                        "s3:GetBucket*",
                                        "s3:List*",
                                        "s3:DeleteObject*",
                                        "s3:PutObject",
                                        "s3:PutObjectLegalHold",
                                        "s3:PutObjectRetention",
                                        "s3:PutObjectTagging",
                                        "s3:PutObjectVersionTagging",
                                        "s3:Abort*"
                                      ],
                                      "Effect": "Allow",
                                      "Resource": [
                                        {
                                          "Fn::GetAtt": [
                                            "PipelineArtifactBucket5F943F51",
                                            "Arn"
                                          ]
                                        },
                                        {
                                          "Fn::Join": [
                                            "",
                                            [
                                              {
                                                "Fn::GetAtt": [
                                                  "PipelineArtifactBucket5F943F51",
                                                  "Arn"
                                                ]
                                              },
                                              "/*"
                                            ]
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "Action": "secretsmanager:GetSecretValue",
                                      "Effect": "Allow",
                                      "Resource": "arn:aws:secretsmanager:us-east-1:665186350589:secret:githubpat-0abFlT"
                                    },
                                    {
                                      "Action": "sts:AssumeRole",
                                      "Effect": "Allow",
                                      "Resource": {
                                        "Fn::GetAtt": [
                                          "PipelineBuildBuildActionCodePipelineActionRole0541F4F3",
                                          "Arn"
                                        ]
                                      }
                                    },
                                    {
                                      "Action": "sts:AssumeRole",
                                      "Effect": "Allow",
                                      "Resource": {
                                        "Fn::GetAtt": [
                                          "PipelineDeployDeployActionCodePipelineActionRole060A341B",
                                          "Arn"
                                        ]
                                      }
                                    },
                                    {
                                      "Action": "sts:AssumeRole",
                                      "Effect": "Allow",
                                      "Resource": {
                                        "Fn::GetAtt": [
                                          "PipelineDeploySyncActionCodePipelineActionRole959ECAA8",
                                          "Arn"
                                        ]
                                      }
                                    }
                                  ],
                                  "Version": "2012-10-17"
                                },
                                "policyName": "PipelineRoleDefaultPolicy7BDC1ABB",
                                "roles": [
                                  {
                                    "Ref": "PipelineRoleB27FAA37"
                                  }
                                ]
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.Policy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Role",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Pipeline/Pipeline/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::CodePipeline::Pipeline",
                      "aws:cdk:cloudformation:props": {
                        "artifactStore": {
                          "type": "S3",
                          "location": {
                            "Ref": "PipelineArtifactBucket5F943F51"
                          }
                        },
                        "name": "examples-astro-prod-pipeline",
                        "pipelineType": "V2",
                        "roleArn": {
                          "Fn::GetAtt": [
                            "PipelineRoleB27FAA37",
                            "Arn"
                          ]
                        },
                        "stages": [
                          {
                            "name": "Source",
                            "actions": [
                              {
                                "name": "GithubSourceAction",
                                "outputArtifacts": [
                                  {
                                    "name": "Artifact_Source_GithubSourceAction"
                                  }
                                ],
                                "actionTypeId": {
                                  "category": "Source",
                                  "version": "1",
                                  "owner": "ThirdParty",
                                  "provider": "GitHub"
                                },
                                "configuration": {
                                  "Owner": "thunder-so",
                                  "Repo": "cdk-spa",
                                  "Branch": "main",
                                  "OAuthToken": "{{resolve:secretsmanager:arn:aws:secretsmanager:us-east-1:665186350589:secret:githubpat-0abFlT:SecretString:::}}",
                                  "PollForSourceChanges": false
                                },
                                "runOrder": 1,
                                "namespace": "Source_GithubSourceAction_NS"
                              }
                            ]
                          },
                          {
                            "name": "Build",
                            "actions": [
                              {
                                "name": "BuildAction",
                                "inputArtifacts": [
                                  {
                                    "name": "Artifact_Source_GithubSourceAction"
                                  }
                                ],
                                "outputArtifacts": [
                                  {
                                    "name": "Artifact_Build_BuildAction"
                                  }
                                ],
                                "actionTypeId": {
                                  "category": "Build",
                                  "version": "1",
                                  "owner": "AWS",
                                  "provider": "CodeBuild"
                                },
                                "configuration": {
                                  "ProjectName": {
                                    "Ref": "PipelineCodeBuildProject13E6FBC9"
                                  }
                                },
                                "runOrder": 2,
                                "roleArn": {
                                  "Fn::GetAtt": [
                                    "PipelineBuildBuildActionCodePipelineActionRole0541F4F3",
                                    "Arn"
                                  ]
                                }
                              }
                            ]
                          },
                          {
                            "name": "Deploy",
                            "actions": [
                              {
                                "name": "DeployAction",
                                "inputArtifacts": [
                                  {
                                    "name": "Artifact_Build_BuildAction"
                                  }
                                ],
                                "actionTypeId": {
                                  "category": "Deploy",
                                  "version": "1",
                                  "owner": "AWS",
                                  "provider": "S3"
                                },
                                "configuration": {
                                  "BucketName": {
                                    "Ref": "PipelineBuildOutputBucketE1BA3DE0"
                                  },
                                  "Extract": "true",
                                  "ObjectKey": "#{Source_GithubSourceAction_NS.CommitId}"
                                },
                                "runOrder": 3,
                                "roleArn": {
                                  "Fn::GetAtt": [
                                    "PipelineDeployDeployActionCodePipelineActionRole060A341B",
                                    "Arn"
                                  ]
                                }
                              },
                              {
                                "name": "SyncAction",
                                "inputArtifacts": [
                                  {
                                    "name": "Artifact_Build_BuildAction"
                                  }
                                ],
                                "actionTypeId": {
                                  "category": "Build",
                                  "version": "1",
                                  "owner": "AWS",
                                  "provider": "CodeBuild"
                                },
                                "configuration": {
                                  "ProjectName": {
                                    "Ref": "PipelineSyncActionProject54531A22"
                                  },
                                  "EnvironmentVariables": "[{\"name\":\"COMMIT_ID\",\"type\":\"PLAINTEXT\",\"value\":\"#{Source_GithubSourceAction_NS.CommitId}\"}]"
                                },
                                "runOrder": 4,
                                "roleArn": {
                                  "Fn::GetAtt": [
                                    "PipelineDeploySyncActionCodePipelineActionRole959ECAA8",
                                    "Arn"
                                  ]
                                }
                              }
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_codepipeline.CfnPipeline",
                      "version": "2.150.0"
                    }
                  },
                  "Source": {
                    "id": "Source",
                    "path": "examples-astro-prod-stack/Pipeline/Pipeline/Source",
                    "children": {
                      "GithubSourceAction": {
                        "id": "GithubSourceAction",
                        "path": "examples-astro-prod-stack/Pipeline/Pipeline/Source/GithubSourceAction",
                        "children": {
                          "WebhookResource": {
                            "id": "WebhookResource",
                            "path": "examples-astro-prod-stack/Pipeline/Pipeline/Source/GithubSourceAction/WebhookResource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::CodePipeline::Webhook",
                              "aws:cdk:cloudformation:props": {
                                "authentication": "GITHUB_HMAC",
                                "authenticationConfiguration": {
                                  "secretToken": "{{resolve:secretsmanager:arn:aws:secretsmanager:us-east-1:665186350589:secret:githubpat-0abFlT:SecretString:::}}"
                                },
                                "filters": [
                                  {
                                    "jsonPath": "$.ref",
                                    "matchEquals": "refs/heads/{Branch}"
                                  }
                                ],
                                "registerWithThirdParty": true,
                                "targetAction": "GithubSourceAction",
                                "targetPipeline": {
                                  "Ref": "Pipeline9850B417"
                                },
                                "targetPipelineVersion": 1
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_codepipeline.CfnWebhook",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "constructs.Construct",
                          "version": "10.3.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "constructs.Construct",
                      "version": "10.3.0"
                    }
                  },
                  "Build": {
                    "id": "Build",
                    "path": "examples-astro-prod-stack/Pipeline/Pipeline/Build",
                    "children": {
                      "BuildAction": {
                        "id": "BuildAction",
                        "path": "examples-astro-prod-stack/Pipeline/Pipeline/Build/BuildAction",
                        "children": {
                          "CodePipelineActionRole": {
                            "id": "CodePipelineActionRole",
                            "path": "examples-astro-prod-stack/Pipeline/Pipeline/Build/BuildAction/CodePipelineActionRole",
                            "children": {
                              "ImportCodePipelineActionRole": {
                                "id": "ImportCodePipelineActionRole",
                                "path": "examples-astro-prod-stack/Pipeline/Pipeline/Build/BuildAction/CodePipelineActionRole/ImportCodePipelineActionRole",
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.Resource",
                                  "version": "2.150.0"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "examples-astro-prod-stack/Pipeline/Pipeline/Build/BuildAction/CodePipelineActionRole/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                                  "aws:cdk:cloudformation:props": {
                                    "assumeRolePolicyDocument": {
                                      "Statement": [
                                        {
                                          "Action": "sts:AssumeRole",
                                          "Effect": "Allow",
                                          "Principal": {
                                            "AWS": {
                                              "Fn::Join": [
                                                "",
                                                [
                                                  "arn:",
                                                  {
                                                    "Ref": "AWS::Partition"
                                                  },
                                                  ":iam::665186350589:root"
                                                ]
                                              ]
                                            }
                                          }
                                        }
                                      ],
                                      "Version": "2012-10-17"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                                  "version": "2.150.0"
                                }
                              },
                              "DefaultPolicy": {
                                "id": "DefaultPolicy",
                                "path": "examples-astro-prod-stack/Pipeline/Pipeline/Build/BuildAction/CodePipelineActionRole/DefaultPolicy",
                                "children": {
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "examples-astro-prod-stack/Pipeline/Pipeline/Build/BuildAction/CodePipelineActionRole/DefaultPolicy/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                                      "aws:cdk:cloudformation:props": {
                                        "policyDocument": {
                                          "Statement": [
                                            {
                                              "Action": [
                                                "codebuild:BatchGetBuilds",
                                                "codebuild:StartBuild",
                                                "codebuild:StopBuild"
                                              ],
                                              "Effect": "Allow",
                                              "Resource": {
                                                "Fn::GetAtt": [
                                                  "PipelineCodeBuildProject13E6FBC9",
                                                  "Arn"
                                                ]
                                              }
                                            }
                                          ],
                                          "Version": "2012-10-17"
                                        },
                                        "policyName": "PipelineBuildBuildActionCodePipelineActionRoleDefaultPolicy94B82A9D",
                                        "roles": [
                                          {
                                            "Ref": "PipelineBuildBuildActionCodePipelineActionRole0541F4F3"
                                          }
                                        ]
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                                      "version": "2.150.0"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_iam.Policy",
                                  "version": "2.150.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.Role",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "constructs.Construct",
                          "version": "10.3.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "constructs.Construct",
                      "version": "10.3.0"
                    }
                  },
                  "Deploy": {
                    "id": "Deploy",
                    "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy",
                    "children": {
                      "DeployAction": {
                        "id": "DeployAction",
                        "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy/DeployAction",
                        "children": {
                          "CodePipelineActionRole": {
                            "id": "CodePipelineActionRole",
                            "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy/DeployAction/CodePipelineActionRole",
                            "children": {
                              "ImportCodePipelineActionRole": {
                                "id": "ImportCodePipelineActionRole",
                                "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy/DeployAction/CodePipelineActionRole/ImportCodePipelineActionRole",
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.Resource",
                                  "version": "2.150.0"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy/DeployAction/CodePipelineActionRole/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                                  "aws:cdk:cloudformation:props": {
                                    "assumeRolePolicyDocument": {
                                      "Statement": [
                                        {
                                          "Action": "sts:AssumeRole",
                                          "Effect": "Allow",
                                          "Principal": {
                                            "AWS": {
                                              "Fn::Join": [
                                                "",
                                                [
                                                  "arn:",
                                                  {
                                                    "Ref": "AWS::Partition"
                                                  },
                                                  ":iam::665186350589:root"
                                                ]
                                              ]
                                            }
                                          }
                                        }
                                      ],
                                      "Version": "2012-10-17"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                                  "version": "2.150.0"
                                }
                              },
                              "DefaultPolicy": {
                                "id": "DefaultPolicy",
                                "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy/DeployAction/CodePipelineActionRole/DefaultPolicy",
                                "children": {
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy/DeployAction/CodePipelineActionRole/DefaultPolicy/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                                      "aws:cdk:cloudformation:props": {
                                        "policyDocument": {
                                          "Statement": [
                                            {
                                              "Action": [
                                                "s3:DeleteObject*",
                                                "s3:PutObject",
                                                "s3:PutObjectLegalHold",
                                                "s3:PutObjectRetention",
                                                "s3:PutObjectTagging",
                                                "s3:PutObjectVersionTagging",
                                                "s3:Abort*"
                                              ],
                                              "Effect": "Allow",
                                              "Resource": [
                                                {
                                                  "Fn::GetAtt": [
                                                    "PipelineBuildOutputBucketE1BA3DE0",
                                                    "Arn"
                                                  ]
                                                },
                                                {
                                                  "Fn::Join": [
                                                    "",
                                                    [
                                                      {
                                                        "Fn::GetAtt": [
                                                          "PipelineBuildOutputBucketE1BA3DE0",
                                                          "Arn"
                                                        ]
                                                      },
                                                      "/*"
                                                    ]
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "Action": [
                                                "s3:GetObject*",
                                                "s3:GetBucket*",
                                                "s3:List*"
                                              ],
                                              "Effect": "Allow",
                                              "Resource": [
                                                {
                                                  "Fn::GetAtt": [
                                                    "PipelineArtifactBucket5F943F51",
                                                    "Arn"
                                                  ]
                                                },
                                                {
                                                  "Fn::Join": [
                                                    "",
                                                    [
                                                      {
                                                        "Fn::GetAtt": [
                                                          "PipelineArtifactBucket5F943F51",
                                                          "Arn"
                                                        ]
                                                      },
                                                      "/*"
                                                    ]
                                                  ]
                                                }
                                              ]
                                            }
                                          ],
                                          "Version": "2012-10-17"
                                        },
                                        "policyName": "PipelineDeployDeployActionCodePipelineActionRoleDefaultPolicy14CC69AC",
                                        "roles": [
                                          {
                                            "Ref": "PipelineDeployDeployActionCodePipelineActionRole060A341B"
                                          }
                                        ]
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                                      "version": "2.150.0"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_iam.Policy",
                                  "version": "2.150.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.Role",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "constructs.Construct",
                          "version": "10.3.0"
                        }
                      },
                      "SyncAction": {
                        "id": "SyncAction",
                        "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy/SyncAction",
                        "children": {
                          "CodePipelineActionRole": {
                            "id": "CodePipelineActionRole",
                            "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy/SyncAction/CodePipelineActionRole",
                            "children": {
                              "ImportCodePipelineActionRole": {
                                "id": "ImportCodePipelineActionRole",
                                "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy/SyncAction/CodePipelineActionRole/ImportCodePipelineActionRole",
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.Resource",
                                  "version": "2.150.0"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy/SyncAction/CodePipelineActionRole/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                                  "aws:cdk:cloudformation:props": {
                                    "assumeRolePolicyDocument": {
                                      "Statement": [
                                        {
                                          "Action": "sts:AssumeRole",
                                          "Effect": "Allow",
                                          "Principal": {
                                            "AWS": {
                                              "Fn::Join": [
                                                "",
                                                [
                                                  "arn:",
                                                  {
                                                    "Ref": "AWS::Partition"
                                                  },
                                                  ":iam::665186350589:root"
                                                ]
                                              ]
                                            }
                                          }
                                        }
                                      ],
                                      "Version": "2012-10-17"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                                  "version": "2.150.0"
                                }
                              },
                              "DefaultPolicy": {
                                "id": "DefaultPolicy",
                                "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy/SyncAction/CodePipelineActionRole/DefaultPolicy",
                                "children": {
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "examples-astro-prod-stack/Pipeline/Pipeline/Deploy/SyncAction/CodePipelineActionRole/DefaultPolicy/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                                      "aws:cdk:cloudformation:props": {
                                        "policyDocument": {
                                          "Statement": [
                                            {
                                              "Action": [
                                                "codebuild:BatchGetBuilds",
                                                "codebuild:StartBuild",
                                                "codebuild:StopBuild"
                                              ],
                                              "Effect": "Allow",
                                              "Resource": {
                                                "Fn::GetAtt": [
                                                  "PipelineSyncActionProject54531A22",
                                                  "Arn"
                                                ]
                                              }
                                            }
                                          ],
                                          "Version": "2012-10-17"
                                        },
                                        "policyName": "PipelineDeploySyncActionCodePipelineActionRoleDefaultPolicy0E46D8E7",
                                        "roles": [
                                          {
                                            "Ref": "PipelineDeploySyncActionCodePipelineActionRole959ECAA8"
                                          }
                                        ]
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                                      "version": "2.150.0"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_iam.Policy",
                                  "version": "2.150.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.Role",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "constructs.Construct",
                          "version": "10.3.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "constructs.Construct",
                      "version": "10.3.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_codepipeline.Pipeline",
                  "version": "2.150.0"
                }
              },
              "SyncActionRole": {
                "id": "SyncActionRole",
                "path": "examples-astro-prod-stack/Pipeline/SyncActionRole",
                "children": {
                  "ImportSyncActionRole": {
                    "id": "ImportSyncActionRole",
                    "path": "examples-astro-prod-stack/Pipeline/SyncActionRole/ImportSyncActionRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Pipeline/SyncActionRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "codebuild.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.150.0"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "examples-astro-prod-stack/Pipeline/SyncActionRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "examples-astro-prod-stack/Pipeline/SyncActionRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "cloudfront:CreateInvalidation",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:aws:cloudfront::665186350589:distribution/",
                                        {
                                          "Ref": "HostingCloudFrontDistributionAD417CDA"
                                        }
                                      ]
                                    ]
                                  }
                                },
                                {
                                  "Action": [
                                    "logs:CreateLogGroup",
                                    "logs:CreateLogStream",
                                    "logs:PutLogEvents"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":logs:us-east-1:665186350589:log-group:/aws/codebuild/",
                                          {
                                            "Ref": "PipelineSyncActionProject54531A22"
                                          }
                                        ]
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":logs:us-east-1:665186350589:log-group:/aws/codebuild/",
                                          {
                                            "Ref": "PipelineSyncActionProject54531A22"
                                          },
                                          ":*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "codebuild:CreateReportGroup",
                                    "codebuild:CreateReport",
                                    "codebuild:UpdateReport",
                                    "codebuild:BatchPutTestCases",
                                    "codebuild:BatchPutCodeCoverages"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:",
                                        {
                                          "Ref": "AWS::Partition"
                                        },
                                        ":codebuild:us-east-1:665186350589:report-group/",
                                        {
                                          "Ref": "PipelineSyncActionProject54531A22"
                                        },
                                        "-*"
                                      ]
                                    ]
                                  }
                                },
                                {
                                  "Action": [
                                    "s3:ListBucket",
                                    "s3:GetObject",
                                    "s3:PutObject"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "PipelineBuildOutputBucketE1BA3DE0",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                },
                                {
                                  "Action": [
                                    "s3:ListBucket",
                                    "s3:GetObject",
                                    "s3:PutObject"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "HostingHostingBucketA9EF4AFD",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "HostingHostingBucketA9EF4AFD",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "s3:GetObject*",
                                    "s3:GetBucket*",
                                    "s3:List*"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "PipelineArtifactBucket5F943F51",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "PipelineArtifactBucket5F943F51",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "PipelineSyncActionRoleDefaultPolicyDAA14988",
                            "roles": [
                              {
                                "Ref": "PipelineSyncActionRole95CEBE29"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.150.0"
                }
              },
              "SyncActionProject": {
                "id": "SyncActionProject",
                "path": "examples-astro-prod-stack/Pipeline/SyncActionProject",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Pipeline/SyncActionProject/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::CodeBuild::Project",
                      "aws:cdk:cloudformation:props": {
                        "artifacts": {
                          "type": "NO_ARTIFACTS"
                        },
                        "cache": {
                          "type": "NO_CACHE"
                        },
                        "encryptionKey": "alias/aws/s3",
                        "environment": {
                          "type": "LINUX_CONTAINER",
                          "image": "aws/codebuild/standard:5.0",
                          "imagePullCredentialsType": "CODEBUILD",
                          "privilegedMode": false,
                          "computeType": "BUILD_GENERAL1_SMALL",
                          "environmentVariables": [
                            {
                              "name": "CLOUDFRONT_DISTRIBUTION_ID",
                              "type": "PLAINTEXT",
                              "value": {
                                "Ref": "HostingCloudFrontDistributionAD417CDA"
                              }
                            },
                            {
                              "name": "HOSTING_BUCKET",
                              "type": "PLAINTEXT",
                              "value": {
                                "Ref": "HostingHostingBucketA9EF4AFD"
                              }
                            },
                            {
                              "name": "OUTPUT_BUCKET",
                              "type": "PLAINTEXT",
                              "value": {
                                "Ref": "PipelineBuildOutputBucketE1BA3DE0"
                              }
                            },
                            {
                              "name": "COMMIT_ID",
                              "type": "PLAINTEXT",
                              "value": "#{Source_GithubSourceAction_NS.CommitId}"
                            }
                          ]
                        },
                        "name": "examples-astro-prod-syncActionProject",
                        "serviceRole": {
                          "Fn::GetAtt": [
                            "PipelineSyncActionRole95CEBE29",
                            "Arn"
                          ]
                        },
                        "source": {
                          "type": "NO_SOURCE",
                          "buildSpec": "{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"build\": {\n      \"commands\": [\n        \"aws s3 cp s3://$OUTPUT_BUCKET/$COMMIT_ID/ s3://$HOSTING_BUCKET/ --recursive --metadata revision=$COMMIT_ID\",\n        \"aws cloudfront create-invalidation --distribution-id $CLOUDFRONT_DISTRIBUTION_ID --paths \\\"/*\\\"\"\n      ]\n    }\n  }\n}"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_codebuild.CfnProject",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_codebuild.Project",
                  "version": "2.150.0"
                }
              },
              "ExecutionRule": {
                "id": "ExecutionRule",
                "path": "examples-astro-prod-stack/Pipeline/ExecutionRule",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "examples-astro-prod-stack/Pipeline/ExecutionRule/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Events::Rule",
                      "aws:cdk:cloudformation:props": {
                        "eventPattern": {
                          "source": [
                            "aws.codepipeline"
                          ],
                          "detail-type": [
                            "CodePipeline Pipeline Execution State Change"
                          ],
                          "detail": {
                            "pipeline": [
                              {
                                "Ref": "Pipeline9850B417"
                              }
                            ],
                            "state": [
                              "STARTED",
                              "SUCCEEDED",
                              "RESUMED",
                              "FAILED",
                              "CANCELED",
                              "SUPERSEDED"
                            ]
                          }
                        },
                        "name": "examples-astro-prod-events",
                        "state": "ENABLED",
                        "targets": [
                          {
                            "id": "Target0",
                            "arn": "arn:aws:lambda:us-east-1:665186350589:function:WatcherFunction-sandbox",
                            "inputTransformer": {
                              "inputTemplate": "{\"eventId\":<id>,\"account\":<account>,\"region\":<region>,\"time\":<time>,\"environmentId\":\"cly3wc4v600011294c9y38kkm\",\"serviceId\":\"cly3wc6lb000312941gk0xres\",\"detail\":{\"pipeline\":<detail-pipeline>,\"executionId\":<detail-execution-id>,\"stage\":<detail-stage>,\"state\":<detail-state>}}",
                              "inputPathsMap": {
                                "id": "$.id",
                                "account": "$.account",
                                "region": "$.region",
                                "time": "$.time",
                                "detail-pipeline": "$.detail.pipeline",
                                "detail-execution-id": "$.detail.execution-id",
                                "detail-stage": "$.detail.stage",
                                "detail-state": "$.detail.state"
                              }
                            }
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_events.CfnRule",
                      "version": "2.150.0"
                    }
                  },
                  "AllowEventRuleexamplesastroprodstackPipelinetarget7B76BBB4": {
                    "id": "AllowEventRuleexamplesastroprodstackPipelinetarget7B76BBB4",
                    "path": "examples-astro-prod-stack/Pipeline/ExecutionRule/AllowEventRuleexamplesastroprodstackPipelinetarget7B76BBB4",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                      "aws:cdk:cloudformation:props": {
                        "action": "lambda:InvokeFunction",
                        "functionName": "arn:aws:lambda:us-east-1:665186350589:function:WatcherFunction-sandbox",
                        "principal": "events.amazonaws.com",
                        "sourceArn": {
                          "Fn::GetAtt": [
                            "PipelineExecutionRule3FA5BF42",
                            "Arn"
                          ]
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_events.Rule",
                  "version": "2.150.0"
                }
              },
              "target": {
                "id": "target",
                "path": "examples-astro-prod-stack/Pipeline/target",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.FunctionBase",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.3.0"
            }
          },
          "CDKMetadata": {
            "id": "CDKMetadata",
            "path": "examples-astro-prod-stack/CDKMetadata",
            "children": {
              "Default": {
                "id": "Default",
                "path": "examples-astro-prod-stack/CDKMetadata/Default",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.151.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.3.0"
            }
          },
          "BootstrapVersion": {
            "id": "BootstrapVersion",
            "path": "examples-astro-prod-stack/BootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.150.0"
            }
          },
          "CheckBootstrapVersion": {
            "id": "CheckBootstrapVersion",
            "path": "examples-astro-prod-stack/CheckBootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnRule",
              "version": "2.150.0"
            }
          }
        },
        "constructInfo": {
          "fqn": "aws-cdk-lib.Stack",
          "version": "2.150.0"
        }
      },
      "Tree": {
        "id": "Tree",
        "path": "Tree",
        "constructInfo": {
          "fqn": "constructs.Construct",
          "version": "10.3.0"
        }
      }
    },
    "constructInfo": {
      "fqn": "aws-cdk-lib.App",
      "version": "2.151.0"
    }
  }
}